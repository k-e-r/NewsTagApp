{"version":3,"sources":["store/CountryProvider.js","lib/api.js","assets/bookmark.svg","components/Loading.js","store/ArticlesProvider.js","store/AuthProvider.js","components/layout/Bookmark.js","assets/image-not-found-scaled.jpg","components/layout/Card.js","components/SetArticles.js","lib/date-check.js","store/UserInfoProvider.js","components/SetBookmark.js","pages/Top.js","pages/Business.js","pages/Technology.js","pages/Entertainment.js","pages/Health.js","pages/Science.js","pages/Sports.js","components/layout/LogoHeader.js","hooks/useWindowDimensions.js","assets/chevron-down.svg","components/layout/Header/WideHeader.js","assets/chevron-up.svg","components/layout/Header/NarrowHeader.js","components/layout/Header/MainHeader.js","pages/Login.js","components/LoadFavorite.js","pages/Mypage.js","components/layout/Footer.js","App.js","hooks/ScrollToTop.js","index.js","components/layout/LogoHeader.module.css","components/layout/Header/NarrowHeader.module.css","components/layout/Card.module.css","pages/Login.module.css","components/LoadFavorite.module.css","components/layout/Header/WideHeader.module.css","components/layout/Bookmark.module.css","components/layout/Header/MainHeader.module.css"],"names":["CountryContext","React","createContext","country","setCountry","CountryProvider","props","useState","settingContext","Provider","value","children","firebaseDomain","process","getSingleArticle","attrData","a","fetch","response","json","data","ok","Error","message","key","transformedArticles","articleObj","id","push","addArticle","articleData","method","body","JSON","stringify","headers","putArticle","articleId","getNews","category","apiKey","endpoint","articles","firebaseAuthDomain","getSingleUser","usrId","bookData","_path","putUserBook","registerId","Loading","loading","i","className","classes","article","href","imageContainer","height","width","text","source","count","ArticlesContext","addArticles","removeArticles","articlesReducer","state","action","type","findIndex","url","length","concat","filter","ArticlesProvider","useReducer","dispatchAction","articlesContext","_excluded","_extends","Object","assign","target","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBookmark","_ref","svgRef","title","titleId","xmlns","viewBox","ref","undefined","d","logoutTimer","ForwardRef","AuthContext","token","localId","isLoggedIn","login","logout","calculateRemainingTime","expirationTime","currentTime","Date","getTime","AuthProvider","initialToken","initialLocalId","tokenData","storedToken","localStorage","getItem","storedLocalId","storedExpirationDate","remainingTime","removeItem","duration","retrieveStoredToken","setToken","setLocalId","userIsLoggedIn","logoutHandler","useCallback","clearTimeout","useEffect","setTimeout","contextValue","setItem","Bookmark","useContext","articlesCtx","settingColor","el","document","getElementById","style","fill","tag","onClick","getComputedStyle","alert","window","confirm","clickHandler","setImage","Array","Card","imageState","setImageState","imageLoadedHandler","idx","j","x","complete","map","urlToImage","onLoad","onError","src","notImage","imageErrorHandler","alt","name","description","SetArticles","setAttrData","loadedArticles","setLoadedArticles","error","setError","registerDB","setRegisterDB","articlesId","setArticlesId","then","date","parse","toLocaleString","catch","match","UserInfoContext","userInfo","userArticles","setUserInfo","setUserArticles","UserInfoProvider","deepEqual","require","SetBookmark","userInfoCtx","loadData","setLoadData","console","log","Top","params","useParams","countries","some","code","to","Business","Technology","Entertainment","Health","Science","Sports","LogoHeader","history","useHistory","authCtx","sortCountries","sort","b","countryCtx","flexBox","logoBar","logo","logoName","logoIcon","subMenu","activeClassName","active","btn","replace","onChange","e","getWindowDimensions","innerWidth","innerHeight","WideHeader","mainMenu","pages","wide","path","SvgChevronDown","SvgChevronUp","openFlg","NarrowHeader","location","useLocation","val","isOpen","setIsOpen","menubtn","icon","dropdownMenuBox","menuOpen","ModalInit","ModalClosed","ModalOpen","narrow","LinkClass","MainHeader","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","header","apikey","Login","emailInputRef","useRef","passwordInputRef","isLogin","setIsLogin","isLoading","setIsLoading","auth","onSubmit","event","preventDefault","enteredEmail","current","enteredPassword","email","password","returnSecureToken","res","expiresIn","idToken","toISOString","err","control","htmlFor","required","actions","toggle","prevState","LoadFavorite","addUserBook","mypage","Mypage","Footer","App","exact","component","ScrollToTop","prevProps","scrollTo","Component","withRouter","ReactDOM","createRoot","render","module","exports"],"mappings":"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","file":"static/js/main.4f86f8d0.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nconst CountryContext = React.createContext({\n  country: 'us',\n  setCountry: (country) => {},\n});\n\nexport const CountryProvider = (props) => {\n  const [country, setCountry] = useState('us');\n\n  const changeCountryHandler = (country) => {\n    setCountry(country);\n  };\n\n  const settingContext = {\n    country: country,\n    setCountry: changeCountryHandler,\n  };\n\n  return (\n    <CountryContext.Provider value={settingContext}>\n      {props.children}\n    </CountryContext.Provider>\n  );\n};\n\nexport default CountryContext;\n","const firebaseDomain = process.env['REACT_APP_FIREBASE_DOMAIN'];\n\nexport const getSingleArticle = async (attrData) => {\n  const response = await fetch(`${firebaseDomain}/categories/${attrData}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch categories.');\n  }\n\n  const transformedArticles = [];\n\n  for (const key in data) {\n    const articleObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedArticles.push(articleObj);\n  }\n\n  return transformedArticles;\n};\n\nexport const addArticle = async (articleData, attrData) => {\n  const response = await fetch(\n    `${firebaseDomain}/categories/${attrData}.json`,\n    {\n      method: 'POST',\n      body: JSON.stringify(articleData),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not create categories.');\n  }\n\n  return null;\n};\n\nexport const putArticle = async (articleData, attrData, articleId) => {\n  const response = await fetch(\n    `${firebaseDomain}/categories/${attrData}/${articleId}.json`,\n    {\n      method: 'PUT',\n      body: JSON.stringify(articleData),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not rewrite categories.');\n  }\n\n  return null;\n};\n\n/**\n *\n */\nexport const getNews = async (country = 'us', category = 'general') => {\n  const apiKey = process.env['REACT_APP_KEY'];\n  const endpoint = process.env['REACT_APP_ENDPOINT'];\n\n  const response = await fetch(\n    `${endpoint}?country=${country}&category=${category}&apiKey=${apiKey}`\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch articles.');\n  }\n\n  return data.articles;\n};\n\n/**\n *\n */\nconst firebaseAuthDomain = process.env['REACT_APP_AUTH_FIREBASE_DOMAIN'];\nexport async function getSingleUser(usrId) {\n  const response = await fetch(`${firebaseAuthDomain}/users/${usrId}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch users.');\n  }\n\n  const transformedArticles = [];\n\n  for (const key in data) {\n    const articleObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedArticles.push(articleObj);\n  }\n\n  return transformedArticles;\n}\n\nexport async function addUserBook(bookData, usrId) {\n  const response = await fetch(`${firebaseAuthDomain}/users/${usrId}.json`, {\n    method: 'POST',\n    body: JSON.stringify(bookData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not create favorite.');\n  }\n\n  return null;\n}\n\nexport const putUserBook = async (bookData, usrId, registerId) => {\n  const response = await fetch(\n    `${firebaseAuthDomain}/users/${usrId}/${registerId}.json`,\n    {\n      method: 'PUT',\n      body: JSON.stringify({\n        data: usrId,\n        articles: bookData,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  );\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not rewrite categories.');\n  }\n\n  return null;\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBookmark(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"bookmark\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 2v17l-4-4-4 4v-17c0-0.553 0.585-1.020 1-1h6c0.689-0.020 1 0.447 1 1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBookmark);\nexport default __webpack_public_path__ + \"static/media/bookmark.79dba09a.svg\";\nexport { ForwardRef as ReactComponent };","import Skeleton from 'react-loading-skeleton';\nimport 'react-loading-skeleton/dist/skeleton.css';\n\nimport classes from './layout/Card.module.css';\n\nconst Loading = () => {\n  // for loading window\n  let loading = [];\n  for (let i = 0; i < 20; i++) {\n    loading.push(\n      <li className={classes.article} key={i}>\n        <a href='/'>\n          <div className={classes.imageContainer}>\n            <Skeleton height={420} width={1000} />\n          </div>\n          <div className={classes.text}>\n            <h3>\n              <Skeleton />\n            </h3>\n            <p className={classes.source}>\n              <Skeleton />\n            </p>\n            <p>\n              <Skeleton count={3} />\n            </p>\n          </div>\n        </a>\n      </li>\n    );\n  }\n\n  return <>{loading}</>;\n};\n\nexport default Loading;\n","import React, { useReducer } from 'react';\n\nconst ArticlesContext = React.createContext({\n  articles: [],\n  addArticles: (articles) => {},\n  removeArticles: (articles) => {},\n});\n\nconst articlesReducer = (state, action) => {\n  if (action.type === 'ADD') {\n    const existingArticleIndex = state.articles.findIndex(\n      (article) => article.url === action.articles.url\n    );\n\n    if (existingArticleIndex !== -1) {\n      return {\n        articles: state.articles,\n      };\n    }\n    let updatedArticles;\n    if (state.articles.length !== 0) {\n      updatedArticles = state.articles.concat([action.articles]);\n    } else {\n      updatedArticles = [action.articles];\n    }\n\n    return {\n      articles: updatedArticles,\n    };\n  }\n  if (action.type === 'REMOVE') {\n    let updatedArticles;\n\n    updatedArticles = state.articles.filter(\n      (article) => article.url !== action.articles.url\n    );\n\n    return {\n      articles: updatedArticles,\n    };\n  }\n\n  if (action.type === 'CLEAR') {\n    return { articles: [] };\n  }\n\n  return { articles: [] };\n};\n\nexport const ArticlesProvider = (props) => {\n  const [state, dispatchAction] = useReducer(articlesReducer, {\n    articles: [],\n  });\n\n  const addArticlesHandler = (articles) => {\n    dispatchAction({ type: 'ADD', articles: articles });\n  };\n\n  const removeArticlesHandler = (articles) => {\n    dispatchAction({ type: 'REMOVE', articles: articles });\n  };\n\n  const articlesContext = {\n    articles: state.articles,\n    addArticles: addArticlesHandler,\n    removeArticles: removeArticlesHandler,\n  };\n\n  return (\n    <ArticlesContext.Provider value={articlesContext}>\n      {props.children}\n    </ArticlesContext.Provider>\n  );\n};\n\nexport default ArticlesContext;\n","import React, { useState, useEffect, useCallback } from 'react';\n\nlet logoutTimer;\n\nconst AuthContext = React.createContext({\n  token: '',\n  localId: '',\n  isLoggedIn: false,\n  login: (token) => {},\n  logout: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n  const currentTime = new Date().getTime();\n  const adjExpirationTime = new Date(expirationTime).getTime();\n\n  const remainingDuration = adjExpirationTime - currentTime;\n\n  return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n  const storedToken = localStorage.getItem('token');\n  const storedLocalId = localStorage.getItem('localId');\n  const storedExpirationDate = localStorage.getItem('expirationTime');\n\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\n\n  // 残り時間が1分未満ならlocalStorageからデータ消して、\n  // null返却\n  if (remainingTime <= 60000) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('localId');\n    localStorage.removeItem('expirationTime');\n    return null;\n  }\n\n  return {\n    token: storedToken,\n    localId: storedLocalId,\n    duration: remainingTime,\n  };\n};\n\nexport const AuthProvider = (props) => {\n  const tokenData = retrieveStoredToken();\n  let initialToken;\n  let initialLocalId;\n  if (tokenData) {\n    initialToken = tokenData.token;\n    initialLocalId = tokenData.localId;\n  }\n  const [token, setToken] = useState(initialToken);\n  const [localId, setLocalId] = useState(initialLocalId);\n\n  // 文字列をtrue/false変換するために２重(!)使用\n  const userIsLoggedIn = !!token;\n\n  const logoutHandler = useCallback(() => {\n    setToken(null);\n    setLocalId(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('localId');\n    localStorage.removeItem('expirationTime');\n\n    if (logoutTimer) {\n      clearTimeout(logoutTimer);\n    }\n  }, []);\n\n  const loginHandler = (token, expirationTime, localId) => {\n    setToken(token);\n    setLocalId(localId);\n    localStorage.setItem('token', token);\n    localStorage.setItem('localId', localId);\n    localStorage.setItem('expirationTime', expirationTime);\n\n    const remainingTime = calculateRemainingTime(expirationTime);\n\n    logoutTimer = setTimeout(logoutHandler, remainingTime);\n  };\n\n  useEffect(() => {\n    if (tokenData) {\n      logoutTimer = setTimeout(logoutHandler, tokenData.duration);\n    }\n  }, [tokenData, logoutHandler]);\n\n  const contextValue = {\n    token: token,\n    localId: localId,\n    isLoggedIn: userIsLoggedIn,\n    login: loginHandler,\n    logout: logoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n","import { useContext } from 'react';\n\nimport ArticlesContext from '../../store/ArticlesProvider';\nimport { ReactComponent as TagIcon } from '../../assets/bookmark.svg';\nimport classes from './Bookmark.module.css';\nimport AuthContext from '../../store/AuthProvider';\n\nconst BOOKMARK_ARTICLES_NUM = 20;\n\nconst Bookmark = ({ article, id, source = '' }) => {\n  const authCtx = useContext(AuthContext);\n  const isLoggedIn = authCtx.isLoggedIn;\n  const articlesCtx = useContext(ArticlesContext);\n  const { articles } = articlesCtx;\n\n  const settingColor = (id) => {\n    const el = document.getElementById('tag--' + id);\n    if (el !== null) el.style.fill = 'rgb(251, 255, 0)';\n  };\n\n  const clickHandler = (article, id) => {\n    const el = document.getElementById('tag--' + id);\n    if (getComputedStyle(el).fill !== 'rgb(251, 255, 0)') {\n      if (articles.length !== BOOKMARK_ARTICLES_NUM) {\n        articlesCtx.addArticles(article);\n        setTimeout(() => {\n          el.style.fill = 'rgb(251, 255, 0)';\n        }, 500);\n      } else {\n        alert('Sorry, bookmark is limited to 20 articles.');\n      }\n    } else {\n      if (source === 'mypage') {\n        if (\n          window.confirm(\n            'If you remove Bookmark, it will be removed from the list. Is everything ok?'\n          )\n        ) {\n          articlesCtx.removeArticles(article);\n        }\n      } else {\n        articlesCtx.removeArticles(article);\n        setTimeout(() => {\n          el.style.fill = 'rgba(255, 255, 255, 0.863)';\n        }, 200);\n      }\n    }\n  };\n\n  // useRefでTagと紐付けできるかも。要検証。\n  //  -> clickHandlerはOK, settingColorがNG (紐付け)\n\n  return (\n    <>\n      {isLoggedIn && (\n        <>\n          <TagIcon\n            id={`tag--${article.url}`}\n            className={`${classes.tag} tag--${article.url}`}\n            onClick={() => clickHandler(article, id)}\n          />\n          {source === 'mypage' && settingColor(id)}\n          {articles.findIndex((data) => article.url === data.url) !== -1 &&\n            settingColor(id)}\n          {/* <SetBookmark /> */}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Bookmark;\n","export default __webpack_public_path__ + \"static/media/image-not-found-scaled.295cf90a.jpg\";","import { useEffect, useState } from 'react';\n\nimport Skeleton from 'react-loading-skeleton';\nimport 'react-loading-skeleton/dist/skeleton.css';\n\nimport Loading from '../Loading';\nimport Bookmark from './Bookmark';\nimport notImage from '../../assets/image-not-found-scaled.jpg';\nimport classes from './Card.module.css';\n\n// Loadする記事の数\nconst ARTICLES_LENGTH = 20;\nlet setImage = Array(ARTICLES_LENGTH).fill(false);\nlet i = 0;\n\nconst Card = ({ articles, source = '' }) => {\n  const [imageState, setImageState] = useState(0);\n\n  useEffect(() => {\n    // reset\n    if (imageState === articles.length) {\n      setImage = Array(ARTICLES_LENGTH).fill(false);\n      i = 0;\n    }\n  }, [imageState, articles.length]);\n\n  // Skeleton無効化\n  const imageLoadedHandler = (idx) => {\n    // console.log('idxOK', idx);\n    // 既にcompleteで処理済の場合はスキップ\n    if (!setImage[idx]) {\n      let j = i++;\n      setImage[idx] = true;\n      setImageState(j);\n    }\n  };\n\n  const imageErrorHandler = (url, idx) => {\n    // console.log('idxNG', idx);\n    document.getElementById('img--' + url).src = `${notImage}`;\n    let j = i++;\n    setImage[idx] = true;\n    setImageState(j);\n  };\n\n  useEffect(() => {\n    for (let x = 0; x < articles.length; x++) {\n      if (document.getElementById('img--' + articles[x].url) !== null) {\n        if (document.getElementById('img--' + articles[x].url).complete) {\n          // onLoadされてないかつ、画像読み込み済\n          if (!setImage[x]) {\n            let j = i++;\n            setImage[x] = true;\n            setImageState(j);\n          }\n        }\n      }\n    }\n  }, [articles]);\n\n  return (\n    <>\n      <ul className={classes.articles}>\n        {articles &&\n          articles.map((article, idx) => (\n            <li className={classes.article} key={article.title}>\n              <Bookmark article={article} source={source} id={article.url} />\n              <a href={article.url}>\n                <div className={classes.imageContainer}>\n                  {article.urlToImage ? (\n                    <>\n                      {!setImage[idx] && <Skeleton height={480} width={1000} />}\n                      {!setImage[idx] && source !== 'mypage' && (\n                        <Skeleton height={420} width={1000} />\n                      )}\n                      <img\n                        onLoad={() => imageLoadedHandler(idx)}\n                        onError={() => imageErrorHandler(article.url, idx)}\n                        id={`img--${article.url}`}\n                        src={article.urlToImage}\n                        alt={article.title}\n                      />\n                    </>\n                  ) : (\n                    <img\n                      src={notImage}\n                      alt={article.title}\n                      onLoad={() => imageLoadedHandler(idx)}\n                    />\n                  )}\n                </div>\n                <div className={classes.text}>\n                  <h3>{article.title}</h3>\n                  {article.source && article.source.name && (\n                    <p className={classes.source}>{article.source.name}</p>\n                  )}\n                  <p>{article.description}</p>\n                </div>\n              </a>\n            </li>\n          ))}\n        {!articles.length && <Loading />}\n      </ul>\n    </>\n  );\n};\n\nexport default Card;\n","import { useEffect, useState } from 'react';\n\nimport { getNews, getSingleArticle, addArticle, putArticle } from '../lib/api';\nimport { DataCheck } from '../lib/date-check';\nimport Card from './layout/Card';\n\nconst SetArticles = ({ category, country }) => {\n  const [attrData, setAttrData] = useState('');\n  const [loadedArticles, setLoadedArticles] = useState([]);\n  const [error, setError] = useState('');\n  const [registerDB, setRegisterDB] = useState(false);\n  const [articlesId, setArticlesId] = useState('');\n\n  // データ受領後、再レンダリングされるため、\n  // JSX共有可能\n  useEffect(() => {\n    // register attrData\n    if (attrData !== category + '_' + country) {\n      setAttrData(category + '_' + country);\n      // category/country切り替えでリセット\n      setLoadedArticles([]);\n    }\n    // Database try\n    if (loadedArticles.length === 0 && attrData !== '') {\n      getSingleArticle(attrData)\n        .then((data) => {\n          // もし日付が古いならData上書き指示\n          if (!DataCheck(data[0].date)) {\n            // PUT用にデータセット\n            setArticlesId(data[0].id);\n            setError('overwriting');\n          } else {\n            setLoadedArticles(data[0].articles);\n          }\n        })\n        .catch((error) => setError('Database Error: ' + error));\n    }\n  }, [category, country, loadedArticles, attrData]);\n\n  // NewsAPI try\n  useEffect(() => {\n    // 自己エラー時は無視\n    // 上書き\n    if (!error.match(/NewsAPI/) && error !== '') {\n      getNews(country, category)\n        .then((data) => {\n          setLoadedArticles(data);\n          // 新規記事をDB登録指示\n          setRegisterDB(true);\n        })\n        .catch((error) => {\n          setError('NewsAPI Error: ' + error);\n        });\n    }\n    setError('');\n  }, [category, country, error]);\n\n  // DB登録\n  useEffect(() => {\n    if (registerDB) {\n      setRegisterDB('');\n      if (articlesId) {\n        // PUT\n        putArticle(\n          {\n            date: new Date().toLocaleString('en-US'),\n            articles: loadedArticles,\n          },\n          attrData,\n          articlesId\n        ).catch((error) => {\n          setError('Register DB Error: ' + error);\n        });\n        setArticlesId('');\n      } else {\n        // POST\n        addArticle(\n          {\n            date: new Date().toLocaleString('en-US'),\n            articles: loadedArticles,\n          },\n          attrData\n        ).catch((error) => {\n          setError('Register DB Error: ' + error);\n        });\n      }\n    }\n  }, [registerDB, articlesId, loadedArticles, attrData]);\n\n  return (\n    <section>\n      <Card articles={loadedArticles} />\n    </section>\n  );\n};\n\nexport default SetArticles;\n","// true  : NewsAPI call不要\n// false : NewsAPI call要\nexport const DataCheck = (date) => {\n  const currentDate = Date.parse(new Date().toLocaleString('en-US'));\n  const prevDate = Date.parse(date);\n  // 現在時刻からDataBase登録時刻を引いて\n  // 経過時間を確認(ms -> hour)\n  const diff = (currentDate - prevDate) / 1000 / 60 / 60;\n  // 何時間経過した場合にNewsAPIをcallするか\n  const HOUR = 6;\n\n  if (diff >= HOUR) return false;\n  else return true;\n};\n","import React, { useState } from 'react';\n\nconst UserInfoContext = React.createContext({\n  userInfo: '',\n  userArticles: null,\n  setUserInfo: (id) => {},\n  setUserArticles: (articles) => {},\n});\n\nexport const UserInfoProvider = (props) => {\n  const [userInfo, setUserInfo] = useState('');\n  const [userArticles, setUserArticles] = useState([]);\n\n  const changeUserInfoHandler = (userInfo) => {\n    setUserInfo(userInfo);\n  };\n\n  const setUserArticlesHandler = (articles) => {\n    setUserArticles(articles);\n  };\n\n  const settingContext = {\n    userInfo: userInfo,\n    userArticles: userArticles,\n    setUserInfo: changeUserInfoHandler,\n    setUserArticles: setUserArticlesHandler,\n  };\n\n  return (\n    <UserInfoContext.Provider value={settingContext}>\n      {props.children}\n    </UserInfoContext.Provider>\n  );\n};\n\nexport default UserInfoContext;\n","import { useContext, useEffect, useState } from 'react';\n\nimport ArticlesContext from '../store/ArticlesProvider';\nimport AuthContext from '../store/AuthProvider';\nimport UserInfoContext from '../store/UserInfoProvider';\nimport { getSingleUser, putUserBook } from '../lib/api';\n\nlet deepEqual = require('deep-equal');\n\nconst SetBookmark = () => {\n  const authCtx = useContext(AuthContext);\n  const localId = authCtx.localId;\n  const articlesCtx = useContext(ArticlesContext);\n  const { articles } = articlesCtx;\n  const userInfoCtx = useContext(UserInfoContext);\n  const { userInfo, userArticles } = userInfoCtx;\n  const [error, setError] = useState('');\n  const [loadData, setLoadData] = useState(false);\n\n  useEffect(() => {\n    if (loadData) {\n      setLoadData(false);\n      getSingleUser(localId)\n        .then((data) => {\n          if (data.length !== 0) {\n            if (data[0].articles !== undefined) {\n              userInfoCtx.setUserArticles(data[0].articles);\n            }\n          }\n        })\n        .catch((error) => setError('DB Error: ' + error));\n    }\n  }, [loadData]);\n\n  useEffect(() => {\n    // userInfo: localId from LoadFavorite\n    // localId: localId from Auth\n    if (userInfo !== '' && localId !== '' && userArticles !== null) {\n      // Login後、Serverデータload成功している場合\n      // かつlocalで更新があった場合\n      if (!deepEqual(userArticles, articles)) {\n        putUserBook(articles, localId, userInfo)\n          .then()\n          .catch((error) => setError('Database Error: ' + error));\n\n        setTimeout(() => {\n          setLoadData(true);\n        }, 500);\n      }\n    } else if (userInfo === '' && localId !== '') {\n      // Login後、Serverデータloadしていない場合\n      getSingleUser(localId)\n        .then((data) => {\n          if (data.length !== 0) {\n            if (data[0].articles !== undefined) {\n              for (let i = 0; i < data[0].articles.length; i++) {\n                // loadデータ登録\n                articlesCtx.addArticles(data[0].articles[i]);\n              }\n              userInfoCtx.setUserArticles(data[0].articles);\n            }\n            userInfoCtx.setUserInfo(data[0].id);\n          }\n        })\n        .catch((error) => setError('DB Error: ' + error));\n    }\n  }, [articles]);\n\n  return <>{error && console.log(`error:${error}`)}</>;\n};\n\nexport default SetBookmark;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport countries from '../lib/countries.json';\nimport SetBookmark from '../components/SetBookmark';\n\nconst Top = () => {\n  const category = 'general';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  // history.pushでの遷移時下記Warningが出たため、Redirectに変更\n  // Warning: Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Top;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Business = () => {\n  const category = 'business';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Business;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Technology = () => {\n  const category = 'technology';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Technology;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Entertainment = () => {\n  const category = 'entertainment';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Entertainment;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Health = () => {\n  const category = 'health';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Health;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Science = () => {\n  const category = 'science';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Science;\n","import { useContext } from 'react';\nimport { Redirect, useParams } from 'react-router-dom';\n\nimport CountryContext from '../store/CountryProvider';\nimport SetArticles from '../components/SetArticles';\nimport SetBookmark from '../components/SetBookmark';\nimport countries from '../lib/countries.json';\n\nconst Sports = () => {\n  const category = 'sports';\n  const { country } = useContext(CountryContext);\n  const params = useParams();\n  const result = countries.some((data) => data.code === country);\n\n  if (!result) {\n    return <Redirect to={`/categories/${category}/us`} />;\n  } else if (country !== params.country) {\n    return <Redirect to={`/categories/${category}/${country}`} />;\n  }\n\n  return (\n    <section>\n      <SetArticles category={category} country={country} />\n      <SetBookmark />\n    </section>\n  );\n};\n\nexport default Sports;\n","import { useState, useContext } from 'react';\nimport { NavLink, useHistory, Link } from 'react-router-dom';\n\nimport classes from './LogoHeader.module.css';\n\nimport CountryContext from '../../store/CountryProvider';\nimport AuthContext from '../../store/AuthProvider';\nimport countries from '../../lib/countries.json';\nimport { ReactComponent as Logo } from '../../assets/bookmark.svg';\n\nconst LogoHeader = () => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const isLoggedIn = authCtx.isLoggedIn;\n\n  const [country, setCountry] = useState('us');\n  const sortCountries = countries.sort((a, b) => {\n    if (a.country < b.country) return -1;\n    else if (a.country > b.country) return 1;\n    return 0;\n  });\n\n  const logoutHandler = () => {\n    authCtx.logout();\n    // return <Redirect to={`/categories/general/${country}`} />;\n    history.replace('/categories/general/');\n  };\n\n  const countryCtx = useContext(CountryContext);\n\n  const countryChange = (e) => {\n    setCountry(e.target.value);\n    countryCtx.setCountry(e.target.value);\n  };\n\n  return (\n    <>\n      <div className={classes.flexBox}>\n        <div className={classes.logoBar}>\n          <div className={classes.logo}>\n            <Link to='/categories/general'>\n              <p className={classes.logoName}>News</p>\n              <Logo className={classes.logoIcon} />\n            </Link>\n          </div>\n          <div className={classes.subMenu}>\n            {!isLoggedIn && (\n              <NavLink\n                activeClassName={classes.active}\n                to='/login'\n                className={classes.login}\n              >\n                LOGIN\n              </NavLink>\n            )}\n            {isLoggedIn && (\n              <>\n                <NavLink\n                  activeClassName={classes.active}\n                  to='/mypage'\n                  className={classes.login}\n                >\n                  MY PAGE\n                </NavLink>\n                <button className={classes.btn} onClick={logoutHandler}>\n                  LOGOUT\n                </button>\n              </>\n            )}\n            <select value={country} onChange={countryChange}>\n              {sortCountries.map((data) => (\n                <option key={data.code} value={data.code}>\n                  {data.country}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LogoHeader;\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport default function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"chevron-down\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronDown);\nexport default __webpack_public_path__ + \"static/media/chevron-down.1093ee27.svg\";\nexport { ForwardRef as ReactComponent };","import { NavLink } from 'react-router-dom';\n\nimport classes from './WideHeader.module.css';\nimport pages from '../../../lib/pages.json';\n\nconst WideHeader = () => {\n  return (\n    <>\n      <nav className={classes.mainMenu}>\n        <ul>\n          {pages.wide.map((data) => (\n            <li key={data.path}>\n              <NavLink activeClassName={classes.active} to={data.path}>\n                {data.name}\n              </NavLink>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    </>\n  );\n};\n\nexport default WideHeader;\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"chevron-up\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.484 12.452c-0.436 0.446-1.043 0.481-1.576 0l-3.908-3.747-3.908 3.747c-0.533 0.481-1.141 0.446-1.574 0-0.436-0.445-0.408-1.197 0-1.615 0.406-0.418 4.695-4.502 4.695-4.502 0.217-0.223 0.502-0.335 0.787-0.335s0.57 0.112 0.789 0.335c0 0 4.287 4.084 4.695 4.502s0.436 1.17 0 1.615z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronUp);\nexport default __webpack_public_path__ + \"static/media/chevron-up.8e654f38.svg\";\nexport { ForwardRef as ReactComponent };","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport classes from './NarrowHeader.module.css';\nimport pages from '../../../lib/pages.json';\nimport { ReactComponent as ChevronDown } from '../../../assets/chevron-down.svg';\nimport { ReactComponent as ChevronUp } from '../../../assets/chevron-up.svg';\n\nlet openFlg = false;\n\nconst NarrowHeader = (props) => {\n  const location = useLocation();\n  const [isOpen, setIsOpen] = useState(props.val);\n\n  // for menu close\n  useEffect(() => {\n    if (isOpen) {\n      if (openFlg) {\n        openFlg = false;\n        setIsOpen(false);\n      } else openFlg = true;\n    } else openFlg = false;\n  }, location.path);\n\n  const clickHandler = () => {\n    if (isOpen === null) {\n      // init\n      setIsOpen(true);\n    } else if (isOpen === true) {\n      // 2回目以降\n      setIsOpen(false);\n    } else {\n      setIsOpen(true);\n    }\n  };\n\n  return (\n    <>\n      <button className={classes.menubtn} onClick={clickHandler}>\n        Category list\n        {(isOpen === null || isOpen === false) && (\n          <ChevronUp className={classes.icon} />\n        )}\n        {isOpen === true && <ChevronDown className={classes.icon} />}\n      </button>\n      <div className={classes.dropdownMenuBox}>\n        {isOpen === null && (\n          <nav className={`${classes.menuOpen} ${classes.ModalInit}`} />\n        )}\n        {isOpen === false && (\n          <nav className={`${classes.menuOpen} ${classes.ModalClosed}`} />\n        )}\n        {isOpen === true && (\n          <nav className={`${classes.menuOpen} ${classes.ModalOpen}`}>\n            <ul>\n              {pages.narrow.map((data) => (\n                <li key={data.path}>\n                  <Link\n                    className={classes.LinkClass}\n                    to={data.path}\n                    onClick={clickHandler}\n                  >\n                    {data.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default NarrowHeader;\n","import LogoHeader from '../LogoHeader';\nimport classes from './MainHeader.module.css';\nimport useWindowDimensions from '../../../hooks/useWindowDimensions';\nimport WideHeader from './WideHeader';\nimport NarrowHeader from './NarrowHeader';\n\nconst MainHeader = () => {\n  const { width } = useWindowDimensions();\n\n  return (\n    <header className={classes.header}>\n      <LogoHeader />\n      {width > 710 && <WideHeader />}\n      {width <= 710 && <NarrowHeader val={null} />}\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { useState, useRef, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport AuthContext from '../store/AuthProvider';\nimport classes from './Login.module.css';\n\nconst apikey = process.env['REACT_APP_AUTH_APIKEY'];\n\nconst Login = () => {\n  const history = useHistory();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    setIsLoading(true);\n    let url;\n    if (isLogin) {\n      url = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${apikey}`;\n    } else {\n      url = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${apikey}`;\n    }\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            let errorMessage = 'Authentication failed!';\n            // if (data && data.error && data.error.message) {\n            //   errorMessage = data.error.message;\n            // }\n            throw new Error(errorMessage);\n          });\n        }\n      })\n      .then((data) => {\n        const expirationTime = new Date(\n          new Date().getTime() + +data.expiresIn * 1000\n        );\n        authCtx.login(data.idToken, expirationTime.toISOString(), data.localId);\n        history.replace('/mypage');\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n\n  return (\n    <section className={classes.auth}>\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor='email'>Your Email</label>\n          <input type='email' id='email' required ref={emailInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor='password'>Your Password</label>\n          <input\n            type='password'\n            id='password'\n            required\n            ref={passwordInputRef}\n          />\n        </div>\n        <div className={classes.actions}>\n          {!isLoading && (\n            <button>{isLogin ? 'Login' : 'Create Account'}</button>\n          )}\n          {isLoading && <p>Sending request...</p>}\n          <button\n            type='button'\n            className={classes.toggle}\n            onClick={switchAuthModeHandler}\n          >\n            {isLogin ? 'Create new account' : 'Login with existing account'}\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default Login;\n","import { useEffect, useContext, useState } from 'react';\n\nimport { getSingleUser, addUserBook } from '../lib/api';\nimport Card from './layout/Card';\nimport SetBookmark from './SetBookmark';\nimport AuthContext from '../store/AuthProvider';\nimport ArticlesContext from '../store/ArticlesProvider';\nimport UserInfoContext from '../store/UserInfoProvider';\nimport classes from './LoadFavorite.module.css';\n\nconst LoadFavorite = () => {\n  const [error, setError] = useState('');\n  const [loadedArticles, setLoadedArticles] = useState([]);\n  const [loadData, setLoadData] = useState(false);\n\n  const authCtx = useContext(AuthContext);\n  const localId = authCtx.localId;\n  const articlesCtx = useContext(ArticlesContext);\n  const { articles } = articlesCtx;\n  const userInfoCtx = useContext(UserInfoContext);\n  const { userInfo, userArticles } = userInfoCtx;\n\n  useEffect(() => {\n    setLoadedArticles(articles);\n  }, [articles]);\n\n  // initで登録データcheck & set\n  useEffect(() => {\n    if (userInfo === '') {\n      getSingleUser(localId)\n        .then((data) => {\n          if (data.length !== 0) {\n            // if (data[0].articles !== undefined) {\n            //   for (let i = 0; i < data[0].articles.length; i++) {\n            //     articlesCtx.addArticles(data[0].articles[i]);\n            //   }\n            //   userInfoCtx.setUserArticles(data[0].articles);\n            //   setLoadedArticles(data[0].articles);\n            // }\n            // userInfoCtx.setUserInfo(data[0].id);\n          } else if (!loadData) {\n            // user登録\n            addUserBook(\n              {\n                data: localId,\n                articles: [],\n              },\n              localId\n            )\n              .then()\n              .catch((error) => setError('Database Error: ' + error));\n            setTimeout(() => {\n              setLoadData(true);\n            }, 1000);\n          }\n        })\n        .catch((error) => setError('DB Error: ' + error));\n    } else {\n      setLoadedArticles(userArticles);\n    }\n  }, [loadData, userInfo]);\n\n  return (\n    <section>\n      {error === '' && (\n        <>\n          <Card articles={loadedArticles} source='mypage' />\n          <SetBookmark />\n        </>\n      )}\n      {error === '' && loadedArticles === null && (\n        <>\n          <p className={classes.mypage}>\n            Bookmark does not seem to have been done yet.\n          </p>\n          <p className={classes.mypage}>Please bookmark some pages you like.</p>\n        </>\n      )}\n      {error !== '' && (\n        <p className={classes.mypage}>\n          Communication with Server failed. Please wait and try again.\n        </p>\n      )}\n    </section>\n  );\n};\n\nexport default LoadFavorite;\n","import LoadFavorite from '../components/LoadFavorite';\n// import SetBookmark from '../components/SetBookmark';\n\nconst Mypage = () => {\n  return (\n    <section>\n      <LoadFavorite />\n      {/* <SetBookmark /> */}\n    </section>\n  );\n};\n\nexport default Mypage;\n","import './Footer.module.css';\n\nconst Footer = () => {\n  return <footer>&copy; 2021 Kaori Era</footer>;\n};\n\nexport default Footer;\n","import { useContext } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport Top from './pages/Top';\nimport Business from './pages/Business';\nimport Technology from './pages/Technology';\nimport Entertainment from './pages/Entertainment';\nimport Health from './pages/Health';\nimport Science from './pages/Science';\nimport Sports from './pages/Sports';\nimport MainHeader from './components/layout/Header/MainHeader';\nimport AuthContext from './store/AuthProvider';\nimport Login from './pages/Login';\nimport Mypage from './pages/Mypage';\nimport Footer from './components/layout/Footer';\n// import Mypage from './pages/Mypage';\n\nfunction App() {\n  const authCtx = useContext(AuthContext);\n  return (\n    <>\n      <MainHeader />\n      <main>\n        <Switch>\n          <Route path='/' exact>\n            <Redirect to='/categories/general' />\n          </Route>\n          <Route path='/categories/general' component={Top} exact />\n          <Route path='/categories/general/:country' component={Top} />\n          <Route path='/categories/technology' component={Technology} exact />\n          <Route\n            path='/categories/technology/:country'\n            component={Technology}\n          />\n          <Route path='/categories/business' component={Business} exact />\n          <Route path='/categories/business/:country' component={Business} />\n          <Route\n            path='/categories/entertainment'\n            component={Entertainment}\n            exact\n          />\n          <Route\n            path='/categories/entertainment/:country'\n            component={Entertainment}\n          />\n          <Route path='/categories/health' component={Health} exact />\n          <Route path='/categories/health/:country' component={Health} />\n          <Route path='/categories/science' component={Science} exact />\n          <Route path='/categories/science/:country' component={Science} />\n          <Route path='/categories/sports' component={Sports} exact />\n          <Route path='/categories/sports/:country' component={Sports} />\n          {!authCtx.isLoggedIn && <Route path='/login' component={Login} />}\n          {authCtx.isLoggedIn && <Route path='/mypage' component={Mypage} />}\n          <Route path='*'>\n            <Redirect to='/' />\n          </Route>\n        </Switch>\n      </main>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass ScrollToTop extends Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop);\n","import ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AuthProvider } from './store/AuthProvider';\nimport { CountryProvider } from './store/CountryProvider';\nimport { ArticlesProvider } from './store/ArticlesProvider';\nimport ScrollToTop from './hooks/ScrollToTop';\nimport { UserInfoProvider } from './store/UserInfoProvider';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <AuthProvider>\n    <UserInfoProvider>\n      <CountryProvider>\n        <ArticlesProvider>\n          <BrowserRouter>\n            <ScrollToTop>\n              <App />\n            </ScrollToTop>\n          </BrowserRouter>\n        </ArticlesProvider>\n      </CountryProvider>\n    </UserInfoProvider>\n  </AuthProvider>\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexBox\":\"LogoHeader_flexBox__2jQAR\",\"logoBar\":\"LogoHeader_logoBar__2wYJ4\",\"logo\":\"LogoHeader_logo__2Vlz0\",\"logoName\":\"LogoHeader_logoName__2XiRw\",\"logoIcon\":\"LogoHeader_logoIcon__3Y_LL\",\"subMenu\":\"LogoHeader_subMenu__2SBFH\",\"login\":\"LogoHeader_login__25teJ\",\"active\":\"LogoHeader_active__1_gTO\",\"menu\":\"LogoHeader_menu__3Lkku\",\"modal\":\"LogoHeader_modal__15Vlv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menubtn\":\"NarrowHeader_menubtn__3XyIR\",\"icon\":\"NarrowHeader_icon__2nSST\",\"dropdownMenuBox\":\"NarrowHeader_dropdownMenuBox__1aYtG\",\"menuOpen\":\"NarrowHeader_menuOpen__3_dgg\",\"slideIn\":\"NarrowHeader_slideIn__G4mFO\",\"ModalOpen\":\"NarrowHeader_ModalOpen__3wDEW\",\"openModal\":\"NarrowHeader_openModal__1smBF\",\"ModalClosed\":\"NarrowHeader_ModalClosed__150-R\",\"closeModal\":\"NarrowHeader_closeModal__3HFGj\",\"ModalInit\":\"NarrowHeader_ModalInit__2Qx1W\",\"LinkClass\":\"NarrowHeader_LinkClass__2Q0iN\",\"hoverAnime\":\"NarrowHeader_hoverAnime__3lZT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articles\":\"Card_articles__2w7JL\",\"article\":\"Card_article__1aglu\",\"imageContainer\":\"Card_imageContainer__1YBVg\",\"text\":\"Card_text__3BS0F\",\"source\":\"Card_source__1ErHD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"Login_auth__788OU\",\"control\":\"Login_control__13yHz\",\"actions\":\"Login_actions__3UGRv\",\"toggle\":\"Login_toggle__ragBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mypage\":\"LoadFavorite_mypage__3cV9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainMenu\":\"WideHeader_mainMenu__1tWXM\",\"active\":\"WideHeader_active__2ni-m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tag\":\"Bookmark_tag__3SHb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__1ibYB\"};"],"sourceRoot":""}