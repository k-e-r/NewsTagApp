(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var c=n(52),r=n.n(c),o=n(4),a=(n(68),n(1)),s=n.n(a),i=n(3),u=n(2),l=n(0),j=s.a.createContext({country:"us",setCountry:function(e){}}),d=function(e){var t=Object(a.useState)("us"),n=Object(u.a)(t,2),c=n[0],r=n[1],o={country:c,setCountry:function(e){r(e)}};return Object(l.jsx)(j.Provider,{value:o,children:e.children})},b=j,h=n(15),O=n(19),g=n(7),f=n.n(g),m="https://midterm-react-default-rtdb.firebaseio.com",p=function(){var e=Object(O.a)(f.a.mark((function e(t){var n,c,r,o,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/categories/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not fetch categories.");case 8:for(o in r=[],c)a=Object(h.a)({id:o},c[o]),r.push(a);return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(O.a)(f.a.mark((function e(t,n){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/categories/").concat(n,".json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(r=e.sent,c.ok){e.next=8;break}throw new Error(r.message||"Could not create categories.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(f.a.mark((function e(t,n,c){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/categories/").concat(n,"/").concat(c,".json"),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,r.ok){e.next=8;break}throw new Error(o.message||"Could not rewrite categories.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(f.a.mark((function e(){var t,n,c,r,o,a,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"us",n=s.length>1&&void 0!==s[1]?s[1]:"general",c="bd454bfde9d0410b9c59e3fcb37942ef",r="https://newsapi.org/v2/top-headlines",e.next=6,fetch("".concat(r,"?country=").concat(t,"&category=").concat(n,"&apiKey=").concat(c));case 6:return o=e.sent,e.next=9,o.json();case 9:if(a=e.sent,o.ok){e.next=12;break}throw new Error(a.message||"Could not fetch articles.");case 12:return e.abrupt("return",a.articles);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w="https://midterm-auth-react-default-rtdb.firebaseio.com";function _(e){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(f.a.mark((function e(t){var n,c,r,o,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not fetch users.");case 8:for(o in r=[],c)a=Object(h.a)({id:o},c[o]),r.push(a);return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(O.a)(f.a.mark((function e(t,n){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(n,".json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,e.next=5,c.json();case 5:if(r=e.sent,c.ok){e.next=8;break}throw new Error(r.message||"Could not create favorite.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k,C=function(){var e=Object(O.a)(f.a.mark((function e(t,n,c){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(n,"/").concat(c,".json"),{method:"PUT",body:JSON.stringify({data:n,articles:t}),headers:{"Content-Type":"application/json"}});case 2:return r=e.sent,e.next=5,r.json();case 5:if(o=e.sent,r.ok){e.next=8;break}throw new Error(o.message||"Could not rewrite categories.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),N=n(18),E=(n(37),n(13)),L=n.n(E),T=function(){for(var e=[],t=0;t<20;t++)e.push(Object(l.jsx)("li",{className:L.a.article,children:Object(l.jsxs)("a",{href:"/",children:[Object(l.jsx)("div",{className:L.a.imageContainer,children:Object(l.jsx)(N.a,{height:420,width:1e3})}),Object(l.jsxs)("div",{className:L.a.text,children:[Object(l.jsx)("h3",{children:Object(l.jsx)(N.a,{})}),Object(l.jsx)("p",{className:L.a.source,children:Object(l.jsx)(N.a,{})}),Object(l.jsx)("p",{children:Object(l.jsx)(N.a,{count:3})})]})]})},t));return Object(l.jsx)(l.Fragment,{children:e})},B=s.a.createContext({articles:[],addArticles:function(e){},removeArticles:function(e){}}),A=function(e,t){return"ADD"===t.type?-1!==e.articles.findIndex((function(e){return e.url===t.articles.url}))?{articles:e.articles}:{articles:0!==e.articles.length?e.articles.concat([t.articles]):[t.articles]}:"REMOVE"===t.type?{articles:e.articles.filter((function(e){return e.url!==t.articles.url}))}:(t.type,{articles:[]})},H=function(e){var t=Object(a.useReducer)(A,{articles:[]}),n=Object(u.a)(t,2),c=n[0],r=n[1],o={articles:c.articles,addArticles:function(e){r({type:"ADD",articles:e})},removeArticles:function(e){r({type:"REMOVE",articles:e})}};return Object(l.jsx)(B.Provider,{value:o,children:e.children})},M=B,P=["title","titleId"];function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},D.apply(this,arguments)}function U(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F(e,t){var n=e.title,c=e.titleId,r=U(e,P);return a.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",ref:t,"aria-labelledby":c},r),void 0===n?a.createElement("title",{id:c},"bookmark"):n?a.createElement("title",{id:c},n):null,k||(k=a.createElement("path",{d:"M14 2v17l-4-4-4 4v-17c0-0.553 0.585-1.020 1-1h6c0.689-0.020 1 0.447 1 1z"})))}var R,z=a.forwardRef(F),J=(n.p,n(53)),G=n.n(J),Y=s.a.createContext({token:"",localId:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),V=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},W=function(e){var t,n,c=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("localId"),n=localStorage.getItem("expirationTime"),c=V(n);return c<=6e4?(localStorage.removeItem("token"),localStorage.removeItem("localId"),localStorage.removeItem("expirationTime"),null):{token:e,localId:t,duration:c}}();c&&(t=c.token,n=c.localId);var r=Object(a.useState)(t),o=Object(u.a)(r,2),s=o[0],i=o[1],j=Object(a.useState)(n),d=Object(u.a)(j,2),b=d[0],h=d[1],O=!!s,g=Object(a.useCallback)((function(){i(null),h(null),localStorage.removeItem("token"),localStorage.removeItem("localId"),localStorage.removeItem("expirationTime"),R&&clearTimeout(R)}),[]);Object(a.useEffect)((function(){c&&(R=setTimeout(g,c.duration))}),[c,g]);var f={token:s,localId:b,isLoggedIn:O,login:function(e,t,n){i(e),h(n),localStorage.setItem("token",e),localStorage.setItem("localId",n),localStorage.setItem("expirationTime",t);var c=V(t);R=setTimeout(g,c)},logout:g};return Object(l.jsx)(Y.Provider,{value:f,children:e.children})},Q=Y,K=function(e){var t=e.article,n=e.id,c=e.source,r=void 0===c?"":c,o=Object(a.useContext)(Q).isLoggedIn,s=Object(a.useContext)(M),i=s.articles,u=function(e){var t=document.getElementById("tag--"+e);null!==t&&(t.style.fill="rgb(251, 255, 0)")};return Object(l.jsx)(l.Fragment,{children:o&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(z,{id:"tag--".concat(t.url),className:"".concat(G.a.tag," tag--").concat(t.url),onClick:function(){return function(e,t){var n=document.getElementById("tag--"+t);"rgb(251, 255, 0)"!==getComputedStyle(n).fill?20!==i.length?(s.addArticles(e),setTimeout((function(){n.style.fill="rgb(251, 255, 0)"}),500)):alert("Sorry, bookmark is limited to 20 articles."):"mypage"===r?window.confirm("If you remove Bookmark, it will be removed from the list. Is everything ok?")&&s.removeArticles(e):(s.removeArticles(e),setTimeout((function(){n.style.fill="rgba(255, 255, 255, 0.863)"}),200))}(t,n)}}),"mypage"===r&&u(n),-1!==i.findIndex((function(e){return t.url===e.url}))&&u(n)]})})},q=n.p+"static/media/image-not-found-scaled.295cf90a.jpg",X=Array(20).fill(!1),Z=0,$=function(e){var t=e.articles,n=e.source,c=void 0===n?"":n,r=Object(a.useState)(0),o=Object(u.a)(r,2),s=o[0],i=o[1];Object(a.useEffect)((function(){s===t.length&&(X=Array(20).fill(!1),Z=0)}),[s,t.length]);var j=function(e){if(!X[e]){var t=Z++;X[e]=!0,i(t)}};return Object(a.useEffect)((function(){for(var e=0;e<t.length;e++)if(null!==document.getElementById("img--"+t[e].url)&&document.getElementById("img--"+t[e].url).complete&&!X[e]){var n=Z++;X[e]=!0,i(n)}}),[t]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("ul",{className:L.a.articles,children:[t&&t.map((function(e,t){return Object(l.jsxs)("li",{className:L.a.article,children:[Object(l.jsx)(K,{article:e,source:c,id:e.url}),Object(l.jsxs)("a",{href:e.url,children:[Object(l.jsx)("div",{className:L.a.imageContainer,children:e.urlToImage?Object(l.jsxs)(l.Fragment,{children:[!X[t]&&Object(l.jsx)(N.a,{height:480,width:1e3}),!X[t]&&"mypage"!==c&&Object(l.jsx)(N.a,{height:420,width:1e3}),Object(l.jsx)("img",{onLoad:function(){return j(t)},onError:function(){return function(e,t){document.getElementById("img--"+e).src="".concat(q);var n=Z++;X[t]=!0,i(n)}(e.url,t)},id:"img--".concat(e.url),src:e.urlToImage,alt:e.title})]}):Object(l.jsx)("img",{src:q,alt:e.title,onLoad:function(){return j(t)}})}),Object(l.jsxs)("div",{className:L.a.text,children:[Object(l.jsx)("h3",{children:e.title}),e.source&&e.source.name&&Object(l.jsx)("p",{className:L.a.source,children:e.source.name}),Object(l.jsx)("p",{children:e.description})]})]})]},e.title)})),!t.length&&Object(l.jsx)(T,{})]})})},ee=function(e){var t=e.category,n=e.country,c=Object(a.useState)(""),r=Object(u.a)(c,2),o=r[0],s=r[1],i=Object(a.useState)([]),j=Object(u.a)(i,2),d=j[0],b=j[1],h=Object(a.useState)(""),O=Object(u.a)(h,2),g=O[0],f=O[1],m=Object(a.useState)(!1),w=Object(u.a)(m,2),_=w[0],S=w[1],I=Object(a.useState)(""),k=Object(u.a)(I,2),C=k[0],N=k[1];return Object(a.useEffect)((function(){o!==t+"_"+n&&(s(t+"_"+n),b([])),0===d.length&&""!==o&&p(o).then((function(e){var t;t=e[0].date,(Date.parse((new Date).toLocaleString("en-US"))-Date.parse(t))/1e3/60/60>=6?(N(e[0].id),f("overwriting")):b(e[0].articles)})).catch((function(e){return f("Database Error: "+e)}))}),[t,n,d,o]),Object(a.useEffect)((function(){g.match(/NewsAPI/)||""===g||v(n,t).then((function(e){b(e),S(!0)})).catch((function(e){f("NewsAPI Error: "+e)})),f("")}),[t,n,g]),Object(a.useEffect)((function(){_&&(S(""),C?(y({date:(new Date).toLocaleString("en-US"),articles:d},o,C).catch((function(e){f("Register DB Error: "+e)})),N("")):x({date:(new Date).toLocaleString("en-US"),articles:d},o).catch((function(e){f("Register DB Error: "+e)})))}),[_,C,d,o]),Object(l.jsx)("section",{children:Object(l.jsx)($,{articles:d})})},te=n(6),ne=s.a.createContext({userInfo:"",userArticles:null,setUserInfo:function(e){},setUserArticles:function(e){}}),ce=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)([]),s=Object(u.a)(o,2),i=s[0],j=s[1],d={userInfo:c,userArticles:i,setUserInfo:function(e){r(e)},setUserArticles:function(e){j(e)}};return Object(l.jsx)(ne.Provider,{value:d,children:e.children})},re=ne,oe=n(71),ae=function(){var e=Object(a.useContext)(Q).localId,t=Object(a.useContext)(M),n=t.articles,c=Object(a.useContext)(re),r=c.userInfo,o=c.userArticles,s=Object(a.useState)(""),i=Object(u.a)(s,2),j=i[0],d=i[1],b=Object(a.useState)(!1),h=Object(u.a)(b,2),O=h[0],g=h[1];return Object(a.useEffect)((function(){O&&(g(!1),_(e).then((function(e){0!==e.length&&void 0!==e[0].articles&&c.setUserArticles(e[0].articles)})).catch((function(e){return d("DB Error: "+e)})))}),[O]),Object(a.useEffect)((function(){""!==r&&""!==e&&null!==o?oe(o,n)||(C(n,e,r).then().catch((function(e){return d("Database Error: "+e)})),setTimeout((function(){g(!0)}),500)):""===r&&""!==e&&_(e).then((function(e){if(0!==e.length){if(void 0!==e[0].articles){for(var n=0;n<e[0].articles.length;n++)t.addArticles(e[0].articles[n]);c.setUserArticles(e[0].articles)}c.setUserInfo(e[0].id)}})).catch((function(e){return d("DB Error: "+e)}))}),[n]),Object(l.jsx)(l.Fragment,{children:j&&console.log("error:".concat(j))})},se=function(){var e="general",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},ie=function(){var e="business",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},ue=function(){var e="technology",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},le=function(){var e="entertainment",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},je=function(){var e="health",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},de=function(){var e="science",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},be=function(){var e="sports",t=Object(a.useContext)(b).country,n=Object(i.i)();return te.some((function(e){return e.code===t}))?t!==n.country?Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/").concat(t)}):Object(l.jsxs)("section",{children:[Object(l.jsx)(ee,{category:e,country:t}),Object(l.jsx)(ae,{})]}):Object(l.jsx)(i.a,{to:"/categories/".concat(e,"/us")})},he=n(11),Oe=n.n(he),ge=function(){var e=Object(i.g)(),t=Object(a.useContext)(Q),n=t.isLoggedIn,c=Object(a.useState)("us"),r=Object(u.a)(c,2),s=r[0],j=r[1],d=te.sort((function(e,t){return e.country<t.country?-1:e.country>t.country?1:0})),h=Object(a.useContext)(b);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:Oe.a.flexBox,children:Object(l.jsxs)("div",{className:Oe.a.logoBar,children:[Object(l.jsx)("div",{className:Oe.a.logo,children:Object(l.jsxs)(o.b,{to:"/categories/general",children:[Object(l.jsx)("p",{className:Oe.a.logoName,children:"News"}),Object(l.jsx)(z,{className:Oe.a.logoIcon})]})}),Object(l.jsxs)("div",{className:Oe.a.subMenu,children:[!n&&Object(l.jsx)(o.c,{activeClassName:Oe.a.active,to:"/login",className:Oe.a.login,children:"LOGIN"}),n&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.c,{activeClassName:Oe.a.active,to:"/mypage",className:Oe.a.login,children:"MY PAGE"}),Object(l.jsx)("button",{className:Oe.a.btn,onClick:function(){t.logout(),e.replace("/categories/general/")},children:"LOGOUT"})]}),Object(l.jsx)("select",{value:s,onChange:function(e){j(e.target.value),h.setCountry(e.target.value)},children:d.map((function(e){return Object(l.jsx)("option",{value:e.code,children:e.country},e.code)}))})]})]})})})},fe=n(56),me=n.n(fe);function pe(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var xe,ye=n(35),ve=n.n(ye),we=n(28),_e=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:ve.a.mainMenu,children:Object(l.jsx)("ul",{children:we.wide.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(o.c,{activeClassName:ve.a.active,to:e.path,children:e.name})},e.path)}))})})})},Se=n(12),Ie=n.n(Se),ke=["title","titleId"];function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Ce.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ee(e,t){var n=e.title,c=e.titleId,r=Ne(e,ke);return a.createElement("svg",Ce({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",ref:t,"aria-labelledby":c},r),void 0===n?a.createElement("title",{id:c},"chevron-down"):n?a.createElement("title",{id:c},n):null,xe||(xe=a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"})))}var Le,Te=a.forwardRef(Ee),Be=(n.p,["title","titleId"]);function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Ae.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},o=Object.keys(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(c=0;c<o.length;c++)n=o[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Me(e,t){var n=e.title,c=e.titleId,r=He(e,Be);return a.createElement("svg",Ae({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",ref:t,"aria-labelledby":c},r),void 0===n?a.createElement("title",{id:c},"chevron-up"):n?a.createElement("title",{id:c},n):null,Le||(Le=a.createElement("path",{d:"M15.484 12.452c-0.436 0.446-1.043 0.481-1.576 0l-3.908-3.747-3.908 3.747c-0.533 0.481-1.141 0.446-1.574 0-0.436-0.445-0.408-1.197 0-1.615 0.406-0.418 4.695-4.502 4.695-4.502 0.217-0.223 0.502-0.335 0.787-0.335s0.57 0.112 0.789 0.335c0 0 4.287 4.084 4.695 4.502s0.436 1.17 0 1.615z"})))}var Pe=a.forwardRef(Me),De=(n.p,!1),Ue=function(e){var t=Object(i.h)(),n=Object(a.useState)(e.val),c=Object(u.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){r?De?(De=!1,s(!1)):De=!0:De=!1}),t.path);var j=function(){s(null===r||!0!==r)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("button",{className:Ie.a.menubtn,onClick:j,children:["Category list",(null===r||!1===r)&&Object(l.jsx)(Pe,{className:Ie.a.icon}),!0===r&&Object(l.jsx)(Te,{className:Ie.a.icon})]}),Object(l.jsxs)("div",{className:Ie.a.dropdownMenuBox,children:[null===r&&Object(l.jsx)("nav",{className:"".concat(Ie.a.menuOpen," ").concat(Ie.a.ModalInit)}),!1===r&&Object(l.jsx)("nav",{className:"".concat(Ie.a.menuOpen," ").concat(Ie.a.ModalClosed)}),!0===r&&Object(l.jsx)("nav",{className:"".concat(Ie.a.menuOpen," ").concat(Ie.a.ModalOpen),children:Object(l.jsx)("ul",{children:we.narrow.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{className:Ie.a.LinkClass,to:e.path,onClick:j,children:e.name})},e.path)}))})})]})]})},Fe=function(){var e=function(){var e=Object(a.useState)(pe()),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(pe())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width;return Object(l.jsxs)("header",{className:me.a.header,children:[Object(l.jsx)(ge,{}),e>710&&Object(l.jsx)(_e,{}),e<=710&&Object(l.jsx)(Ue,{val:null})]})},Re=n(23),ze=n.n(Re),Je="AIzaSyC5_47hkDPSN3QHQwLnINUkdkAMrZ0yUIQ",Ge=function(){var e=Object(i.g)(),t=Object(a.useRef)(),n=Object(a.useRef)(),c=Object(a.useContext)(Q),r=Object(a.useState)(!0),o=Object(u.a)(r,2),s=o[0],j=o[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),h=b[0],O=b[1];return Object(l.jsxs)("section",{className:ze.a.auth,children:[Object(l.jsx)("h1",{children:s?"Login":"Sign Up"}),Object(l.jsxs)("form",{onSubmit:function(r){r.preventDefault();var o,a=t.current.value,i=n.current.value;O(!0),o=s?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(Je):"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(Je),fetch(o,{method:"POST",body:JSON.stringify({email:a,password:i,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return O(!1),e.ok?e.json():e.json().then((function(e){throw new Error("Authentication failed!")}))})).then((function(t){var n=new Date((new Date).getTime()+1e3*+t.expiresIn);c.login(t.idToken,n.toISOString(),t.localId),e.replace("/mypage")})).catch((function(e){alert(e.message)}))},children:[Object(l.jsxs)("div",{className:ze.a.control,children:[Object(l.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(l.jsx)("input",{type:"email",id:"email",required:!0,ref:t})]}),Object(l.jsxs)("div",{className:ze.a.control,children:[Object(l.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(l.jsx)("input",{type:"password",id:"password",required:!0,ref:n})]}),Object(l.jsxs)("div",{className:ze.a.actions,children:[!h&&Object(l.jsx)("button",{children:s?"Login":"Create Account"}),h&&Object(l.jsx)("p",{children:"Sending request..."}),Object(l.jsx)("button",{type:"button",className:ze.a.toggle,onClick:function(){j((function(e){return!e}))},children:s?"Create new account":"Login with existing account"})]})]})]})},Ye=n(29),Ve=n.n(Ye),We=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(u.a)(r,2),s=o[0],i=o[1],j=Object(a.useState)(!1),d=Object(u.a)(j,2),b=d[0],h=d[1],O=Object(a.useContext)(Q).localId,g=Object(a.useContext)(M).articles,f=Object(a.useContext)(re),m=f.userInfo,p=f.userArticles;return Object(a.useEffect)((function(){i(g)}),[g]),Object(a.useEffect)((function(){""===m?_(O).then((function(e){0!==e.length||b||(function(e,t){return I.apply(this,arguments)}({data:O,articles:[]},O).then().catch((function(e){return c("Database Error: "+e)})),setTimeout((function(){h(!0)}),1e3))})).catch((function(e){return c("DB Error: "+e)})):i(p)}),[b,m]),Object(l.jsxs)("section",{children:[""===n&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)($,{articles:s,source:"mypage"}),Object(l.jsx)(ae,{})]}),""===n&&null===s&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:Ve.a.mypage,children:"Bookmark does not seem to have been done yet."}),Object(l.jsx)("p",{className:Ve.a.mypage,children:"Please bookmark some pages you like."})]}),""!==n&&Object(l.jsx)("p",{className:Ve.a.mypage,children:"Communication with Server failed. Please wait and try again."})]})},Qe=function(){return Object(l.jsx)("section",{children:Object(l.jsx)(We,{})})},Ke=(n(107),function(){return Object(l.jsx)("footer",{children:"\xa9 2021 Kaori Era"})});var qe=function(){var e=Object(a.useContext)(Q);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Fe,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/",exact:!0,children:Object(l.jsx)(i.a,{to:"/categories/general"})}),Object(l.jsx)(i.b,{path:"/categories/general",component:se,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/general/:country",component:se}),Object(l.jsx)(i.b,{path:"/categories/technology",component:ue,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/technology/:country",component:ue}),Object(l.jsx)(i.b,{path:"/categories/business",component:ie,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/business/:country",component:ie}),Object(l.jsx)(i.b,{path:"/categories/entertainment",component:le,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/entertainment/:country",component:le}),Object(l.jsx)(i.b,{path:"/categories/health",component:je,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/health/:country",component:je}),Object(l.jsx)(i.b,{path:"/categories/science",component:de,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/science/:country",component:de}),Object(l.jsx)(i.b,{path:"/categories/sports",component:be,exact:!0}),Object(l.jsx)(i.b,{path:"/categories/sports/:country",component:be}),!e.isLoggedIn&&Object(l.jsx)(i.b,{path:"/login",component:Ge}),e.isLoggedIn&&Object(l.jsx)(i.b,{path:"/mypage",component:Qe}),Object(l.jsx)(i.b,{path:"*",children:Object(l.jsx)(i.a,{to:"/"})})]})}),Object(l.jsx)(Ke,{})]})},Xe=n(57),Ze=n(58),$e=n(59),et=n(60),tt=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){return Object(Xe.a)(this,n),t.apply(this,arguments)}return Object(Ze.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),n}(a.Component),nt=Object(i.j)(tt);r.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(W,{children:Object(l.jsx)(ce,{children:Object(l.jsx)(d,{children:Object(l.jsx)(H,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(nt,{children:Object(l.jsx)(qe,{})})})})})})}))},11:function(e,t,n){e.exports={flexBox:"LogoHeader_flexBox__2jQAR",logoBar:"LogoHeader_logoBar__2wYJ4",logo:"LogoHeader_logo__2Vlz0",logoName:"LogoHeader_logoName__2XiRw",logoIcon:"LogoHeader_logoIcon__3Y_LL",subMenu:"LogoHeader_subMenu__2SBFH",login:"LogoHeader_login__25teJ",active:"LogoHeader_active__1_gTO",menu:"LogoHeader_menu__3Lkku",modal:"LogoHeader_modal__15Vlv"}},12:function(e,t,n){e.exports={menubtn:"NarrowHeader_menubtn__3XyIR",icon:"NarrowHeader_icon__2nSST",dropdownMenuBox:"NarrowHeader_dropdownMenuBox__1aYtG",menuOpen:"NarrowHeader_menuOpen__3_dgg",slideIn:"NarrowHeader_slideIn__G4mFO",ModalOpen:"NarrowHeader_ModalOpen__3wDEW",openModal:"NarrowHeader_openModal__1smBF",ModalClosed:"NarrowHeader_ModalClosed__150-R",closeModal:"NarrowHeader_closeModal__3HFGj",ModalInit:"NarrowHeader_ModalInit__2Qx1W",LinkClass:"NarrowHeader_LinkClass__2Q0iN",hoverAnime:"NarrowHeader_hoverAnime__3lZT7"}},13:function(e,t,n){e.exports={articles:"Card_articles__2w7JL",article:"Card_article__1aglu",imageContainer:"Card_imageContainer__1YBVg",text:"Card_text__3BS0F",source:"Card_source__1ErHD"}},23:function(e,t,n){e.exports={auth:"Login_auth__788OU",control:"Login_control__13yHz",actions:"Login_actions__3UGRv",toggle:"Login_toggle__ragBn"}},28:function(e){e.exports=JSON.parse('{"wide":[{"path":"/categories/general","name":"Top"},{"path":"/categories/technology","name":"Technology"},{"path":"/categories/health","name":"Health"},{"path":"/categories/entertainment","name":"Entertainment"},{"path":"/categories/science","name":"Science"},{"path":"/categories/business","name":"Business"},{"path":"/categories/sports","name":"Sports"}],"narrow":[{"path":"/categories/general","name":"01 Top"},{"path":"/categories/technology","name":"02 Technology"},{"path":"/categories/health","name":"03 Health"},{"path":"/categories/entertainment","name":"04 Entertainment"},{"path":"/categories/science","name":"05 Science"},{"path":"/categories/business","name":"06 Business"},{"path":"/categories/sports","name":"07 Sports"}]}')},29:function(e,t,n){e.exports={mypage:"LoadFavorite_mypage__3cV9y"}},35:function(e,t,n){e.exports={mainMenu:"WideHeader_mainMenu__1tWXM",active:"WideHeader_active__2ni-m"}},53:function(e,t,n){e.exports={tag:"Bookmark_tag__3SHb9"}},56:function(e,t,n){e.exports={header:"MainHeader_header__1ibYB"}},6:function(e){e.exports=JSON.parse('[{"code":"us","country":"USA"},{"code":"ca","country":"Canada"},{"code":"jp","country":"Japan"},{"code":"ae","country":"Emirates"},{"code":"ar","country":"Argentina"},{"code":"at","country":"Austria"},{"code":"au","country":"Australia"},{"code":"be","country":"Belgium"},{"code":"bg","country":"Bulgaria"},{"code":"br","country":"Brazil"},{"code":"ch","country":"Switzerland"},{"code":"cn","country":"China"},{"code":"co","country":"Colombia"},{"code":"cu","country":"Cuba"},{"code":"cz","country":"Czechia"},{"code":"de","country":"Germany"},{"code":"eg","country":"Egypt"},{"code":"fr","country":"France"},{"code":"gb","country":"UK"},{"code":"gr","country":"Greece"},{"code":"hk","country":"Hong Kong"},{"code":"hu","country":"Hungary"},{"code":"id","country":"Indonesia"},{"code":"ie","country":"Ireland"},{"code":"il","country":"Israel"},{"code":"in","country":"India"},{"code":"it","country":"Italy"},{"code":"kr","country":"Korea"},{"code":"lt","country":"Lithuania"},{"code":"lv","country":"Latvia"},{"code":"ma","country":"Morocco"},{"code":"mx","country":"Mexico"},{"code":"my","country":"Malaysia"},{"code":"ng","country":"Nigeria"},{"code":"nl","country":"Netherlands"},{"code":"no","country":"Norway"},{"code":"nz","country":"New Zealand"},{"code":"ph","country":"Philippines"},{"code":"pl","country":"Poland"},{"code":"pt","country":"Portugal"},{"code":"ro","country":"Romania"},{"code":"rs","country":"Serbia"},{"code":"ru","country":"Russia"},{"code":"sa","country":"Saudi Arabia"},{"code":"se","country":"Sweden"},{"code":"sg","country":"Singapore"},{"code":"si","country":"Slovenia"},{"code":"sk","country":"Slovakia"},{"code":"th","country":"Thailand"},{"code":"tr","country":"Turkey"},{"code":"tw","country":"Taiwan"},{"code":"ua","country":"Ukraine"},{"code":"ve","country":"Venezuela"},{"code":"za","country":"South Africa"}]')},68:function(e,t,n){},95:function(e,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.4f86f8d0.chunk.js.map